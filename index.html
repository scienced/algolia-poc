<!doctype html>
<html lang="en">
  <head>
    <title>Algolia Search - Colect POC</title>

    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.14.2/dist/algoliasearch-lite.umd.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.44/dist/instantsearch.production.min.js"></script>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/instantsearch.css@7/themes/algolia-min.css"
    />

  </head>
  <body>
    <p>This is the page for a POC integrating Algolio with <a href="https://www.colect.io">Colect</a></p>
    <p><strong>More to come here soon</strong></p>
    <br>
    <div id="searchbox"></div>
    <br>
    <div id="hits"></div>

    <script type="text/javascript">
      const searchClient = algoliasearch('QY844ARKOF', '0e388aa2e74e57fad8cf0d7636a453dd');

      const search = instantsearch({
        indexName: 'COLECT_B2B_01',
        searchClient,
      });

      search.addWidgets([
        instantsearch.widgets.searchBox({
          container: '#searchbox',
        }),

        instantsearch.widgets.hits({
          container: '#hits',
          templates: {
          item: `
            <a href="https://b2b.colect.io/webstore/v2/product/COLECT_B2B_01/{{objectID}}">
            <div>
              <img src="{{image}}" align="left" alt="{{name}}" />
              <div class="hit-name">
                {{#helpers.highlight}}{ "attribute": "name" }{{/helpers.highlight}}
              </div>
              <br>
              <div class="hit-price">EUR {{price}}</div>
              <br>
              <div>{{objectID}}</div>
            </div>
            </a>
          `,
        },
        })
      ]);

      search.start();

    </script>


  </body>
</html>