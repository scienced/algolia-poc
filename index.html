<!doctype html>
<html lang="en">
  <head>
    <title>Algolia Search - Colect POC</title>

    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.14.2/dist/algoliasearch-lite.umd.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.44/dist/instantsearch.production.min.js"></script>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/instantsearch.css@7/themes/algolia-min.css"
    />

  </head>
  <body>
    <p>This is the page for a POC integrating Algolio with <a href="https://www.colect.io">Colect</a></p>
    <p>1. The search below is based on the <strong>instantsearch.js</strong> library</p>
    <p>2. The search experience based on the <strong>autocomplete.js</strong> library can be found <a href="/autocomplete.html">here.</a>WORK IN PROGRESS</p>
    <br>
    <div id="searchbox"></div>
    <br>
    <div id="hits"></div>

    <script type="text/javascript">
      const searchClient = algoliasearch('A888NZ7TE0', '48975afa6e88a25c3cea201ea5f60cdd');

      const search = instantsearch({
        indexName: 'Test Colection',
        searchClient,
      });

      search.addWidgets([
        instantsearch.widgets.searchBox({
          container: '#searchbox',
        }),

        instantsearch.widgets.hits({
          container: '#hits',
          templates: {
          item: `
            <a href="https://b2b.colect.io/webstore/v2/product/COLECT_B2B_01/{{objectID}}">
            <div>
              <img src="{{image}}" align="left" alt="{{name}}" />
              <div class="hit-name">
                {{#helpers.highlight}}{ "attribute": "name" }{{/helpers.highlight}}
              </div>
              <br>
              <div class="hit-price">EUR {{price}}</div>
            </div>
            </a>
          `,
        },
        })
      ]);

      search.start();

    </script>


  </body>
</html>